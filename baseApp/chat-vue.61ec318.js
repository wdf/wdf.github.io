(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{120:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",[a("f7-navbar",{attrs:{title:"Messsages","back-link":"Back"}}),e._v(" "),a("f7-messagebar",{ref:"messagebar",attrs:{placeholder:e.placeholder,attachmentsVisible:e.attachmentsVisible,sheetVisible:e.sheetVisible}},[a("f7-link",{attrs:{slot:"inner-start","icon-if-ios":"f7:camera_fill","icon-if-md":"f7:camera_alt"},on:{click:e.sheetToggle},slot:"inner-start"}),e._v(" "),a("f7-link",{attrs:{slot:"inner-end","icon-if-ios":"f7:arrow_up_fill","icon-if-md":"material:send"},on:{click:e.sendMessage},slot:"inner-end"}),e._v(" "),a("f7-messagebar-attachments",e._l(e.attachments,function(t,s){return a("f7-messagebar-attachment",{key:s,attrs:{image:t},on:{"attachment:delete":function(a){e.deleteAttachment(t)}}})})),e._v(" "),a("f7-messagebar-sheet",e._l(e.images,function(t,s){return a("f7-messagebar-sheet-image",{key:s,attrs:{image:t,checked:0<=e.attachments.indexOf(t)},on:{change:e.handleAttachment}})}))],1),e._v(" "),a("f7-messages",{ref:"messages"},[a("f7-messages-title",[a("b",[e._v("Sunday, Feb 9,")]),e._v(" 12:58")]),e._v(" "),e._l(e.messagesData,function(t,s){return a("f7-message",{key:s,attrs:{type:t.type,text:t.text,image:t.image,name:t.name,avatar:t.avatar,first:e.isFirstMessage(t,s),last:e.isLastMessage(t,s),tail:e.isTailMessage(t,s)}})})],2)],1)},n=[];s._withStripped=!0,a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n})},229:function(e,t,a){"use strict";a.r(t);var s=a(120),n=a(57);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a(19),o=Object(r.a)(n.default,s.a,s.b,!1,null,null,null);o.options.__file="src/pages/chat.vue",t.default=o.exports},57:function(e,t,a){"use strict";a.r(t);var s=a(58),n=a.n(s);for(var i in s)"default"!==i&&function(e){a.d(t,e,function(){return s[e]})}(i);t.default=n.a},58:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{attachments:[],sheetVisible:!1,messagesData:[{type:"sent",text:"Hi, Kate"},{type:"sent",text:"How are you?"},{name:"Kate",type:"received",text:"Hi, I am good!",avatar:"http://lorempixel.com/100/100/people/9"},{name:"Blue Ninja",type:"received",text:"Hi there, I am also fine, thanks! And how are you?",avatar:"http://lorempixel.com/100/100/people/7"},{type:"sent",text:"Hey, Blue Ninja! Glad to see you ;)"},{type:"sent",text:"Hey, look, cutest kitten ever!"},{type:"sent",image:"http://lorempixel.com/200/260/cats/4/"},{name:"Kate",type:"received",text:"Nice!",avatar:"http://lorempixel.com/100/100/people/9"},{name:"Kate",type:"received",text:"Like it very much!",avatar:"http://lorempixel.com/100/100/people/9"},{name:"Blue Ninja",type:"received",text:"Awesome!",avatar:"http://lorempixel.com/100/100/people/7"}],images:["http://lorempixel.com/300/300/cats/1/","http://lorempixel.com/200/300/cats/2/","http://lorempixel.com/400/300/cats/3/","http://lorempixel.com/300/150/cats/4/","http://lorempixel.com/150/300/cats/5/","http://lorempixel.com/300/300/cats/6/","http://lorempixel.com/300/300/cats/7/","http://lorempixel.com/200/300/cats/8/","http://lorempixel.com/400/300/cats/9/","http://lorempixel.com/300/150/cats/10/"],people:[{name:"Kate Johnson",avatar:"http://lorempixel.com/100/100/people/9"},{name:"Blue Ninja",avatar:"http://lorempixel.com/100/100/people/7"}],answers:["Yes!","No","Hm...","I am not sure","And what about you?","May be ;)","Lorem ipsum dolor sit amet, consectetur","What?","Are you sure?","Of course","Need to think about it","Amazing!!!"],responseInProgress:!1}},watch:{attachmentsVisible:function(){var e=this;e.$nextTick(function(){e.messagebar.resizePage()})},sheetVisible:function(){var e=this;e.$nextTick(function(){e.messagebar.resizePage()})}},computed:{attachmentsVisible:function(){return 0<this.attachments.length},placeholder:function(){return 0<this.attachments.length?"Add comment or Send":"Message"}},methods:{isFirstMessage:function(e,t){var a=this.messagesData[t-1];return!(e.isTitle||a&&a.type===e.type&&a.name===e.name)},isLastMessage:function(e,t){var a=this.messagesData[t+1];return!(e.isTitle||a&&a.type===e.type&&a.name===e.name)},isTailMessage:function(e,t){var a=this.messagesData[t+1];return!(e.isTitle||a&&a.type===e.type&&a.name===e.name)},sheetToggle:function(){this.sheetVisible=!this.sheetVisible},deleteAttachment:function(e){var t=this.attachments.indexOf(e);this.attachments.splice(t,1)[0]},handleAttachment:function(e){var t=this,a=t.$$(e.target).parents("label.checkbox").index(),s=t.images[a];e.target.checked?t.attachments.unshift(s):t.attachments.splice(t.attachments.indexOf(s),1)},sendMessage:function(){var e,t=this,a=t.messagebar.getValue().replace(/\n/g,"<br>").trim(),s=[];t.attachments.forEach(function(e){s.push({image:e})}),a.trim().length&&s.push({text:a}),t.attachments=[],t.sheetVisible=!1,t.messagebar.clear(),a.length&&t.messagebar.focus(),(e=t.messagesData).push.apply(e,s),t.responseInProgress||(t.responseInProgress=!0,setTimeout(function(){var e=t.answers[Math.floor(Math.random()*t.answers.length)],a=t.people[Math.floor(Math.random()*t.people.length)];t.messages.showTyping({header:a.name+" is typing",avatar:a.avatar}),setTimeout(function(){t.messagesData.push({text:e,type:"received",name:a.name,avatar:a.avatar}),t.messages.hideTyping(),t.responseInProgress=!1},4e3)},1e3))}},mounted:function(){var e=this;this.$f7ready(function(t){var a=e;a.messagebar=a.$refs.messagebar.f7Messagebar,a.messages=a.$refs.messages.f7Messages})}}}}]);