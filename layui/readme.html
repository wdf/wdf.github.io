<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>物资条码系统开发手册</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="css/layui.css" media="all">
    <style>
        fieldset {
            /*display: none;*/
        }

        fieldset:last-child {
            display: block;
        }
    </style>
</head>
<body>


<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend>系统说明</legend>
</fieldset>
<div class="layui-collapse" lay-accordion="">
    <div class="layui-colla-item">
        <h2 class="layui-colla-title">编码规范</h2>
        <div class="layui-colla-content">
            <fieldset class="layui-elem-field">
                <legend>目录结构</legend>
                <div class="layui-field-box">
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">config</span>
                        相关配置文件存放路径
                    </blockquote>
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">src</span>
                        java源码存放位置
                    </blockquote>
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">web</span>
                        前端展示页面存放位置
                    </blockquote>
                    <blockquote class="layui-elem-quote">
                        com.richfit.(模块名).model|service|action.(前缀)PO|Service|Action
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span>以计划模块中的PLAN_MATERIAL_REQUIRE表为例</span>
                        <div>com.richfit.plan.model.PlanMaterialRequirePO(表PLAN_MATERIAL_REQUIRE)</div>
                        <div>com.richfit.plan.service.PlanMaterialRequireService</div>
                        <div>com.richfit.plan.action.PlanMaterialRequireAction</div>
                    </blockquote>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>命名规范</legend>
                <div class="layui-field-box">
                    <blockquote class="layui-elem-quote"><span class="layui-badge">类</span>
                        使用帕斯卡命名方式，例如：VelocityResponseWriter
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">包</span>
                        使用小写，例如：com.richfit.common.xxx
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">变量和方法</span>
                        使用小写开始的驼峰命名，例如：studentParentName
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">常量</span>
                        使用全大写，例如：MAX_PARAMETER_COUNT = 100
                    </blockquote>
                    <blockquote class="layui-elem-quote">不使用任何带下划线的命名方式，除非是常量或者是枚举值</blockquote>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>操作日志</legend>
                <div class="layui-field-box">
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">@loginfo</span>
                        在Controller需要记录日志的发放上使用该注解，具体使用见Controller>常见注解
                    </blockquote>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>系统日志</legend>
                <div class="layui-field-box">
                    <pre class="layui-code layui-box layui-code-view layui-code-notepad" lay-title="action"
                         lay-skin="notepad"><ol class="layui-code-ol"><li>//在需要打印系统日志的类中声明Logger对象</li><li>private static Logger logger = Logger.getLogger(equipAccountAction.class);</li></ol></pre>
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">debug</span>
                        方法打印使用 Level.DEBUG 消息级别
                    </blockquote>
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">error</span>
                        方法打印使用 Level.ERROR 消息级别
                    </blockquote>
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">info</span>
                        方法打印使用 Level.INFO 消息级别
                    </blockquote>
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">warn</span>
                        方法打印使用 Level.WARN 消息级别
                    </blockquote>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="layui-colla-item">
        <h2 class="layui-colla-title">Entity</h2>
        <div class="layui-colla-content">
            <fieldset class="layui-elem-field">
                <legend>相关配置</legend>
                <div class="layui-field-box">
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">packagesToScan</span>
                        com.richfit.*.model
                    </blockquote>
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">txAdvice</span>
                        save*,upd*,del*,remove*,add*,insert*,auth*,batch*,exec*,query*,get*,find*,page*
                    </blockquote>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>常用注解</legend>
                <div class="layui-field-box">
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@Entity</span>
                        负责注册一个bean到spring上下文中
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@Table</span>
                        设置关联表属性，如表明：设置数据库的表名 name="EQUIP_ACCOUNT"
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@Id</span>
                        定义为数据库的主键ID
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@GeneratedValue</span>
                        ID的生成策略
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@Column</span>
                        Column中的name属性对应了数据库的该字段名字，里面还有其他属性，例如length，nullable等等
                    </blockquote>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>示例代码</legend>
                <div class="layui-field-box">
                    <pre class="layui-code layui-box layui-code-view layui-code-notepad" lay-title="JavaScript"
                         lay-skin="notepad"><h3
                            class="layui-code-h3">Entity（EQUIP_ACCOUNT）<a
                            href="http://www.layui.com/doc/modules/code.html"
                            target="_blank">EquipAccountPO.java</a></h3><ol
                            class="layui-code-ol"><li>@Entity</li><li>@Table(name = "EQUIP_ACCOUNT")</li><li>public class EquipAccountPO implements Serializable {</li><li></li><li>    private String equipId;//设备主键</li><li>    private String equipName;//设备名称</li><li></li><li>    /**</li><li>     * 获取 设备主键</li><li>     */</li><li>    @Id</li><li>    @GeneratedValue(generator = "idGenerator")</li><li>    @GenericGenerator(name = "idGenerator", strategy = "uuid")</li><li>    @Column(name = "EQUIP_ID")</li><li>    public String getEquipId(){</li><li>        return equipId;</li><li>    }</li><li></li><li>    /**</li><li>     * 设置 设备主键</li><li>     */</li><li>    public void setEquipId(String equipId){</li><li>        this.equipId = equipId;</li><li>    }</li><li></li><li>    /**</li><li>     * 获取 设备名称</li><li>     */</li><li>    @Column(name = "EQUIP_NAME")</li><li>    public String getEquipName(){</li><li>        return equipName;</li><li>    }</li><li></li><li>    /**</li><li>     * 设置 设备名称</li><li>     */</li><li>    public void setEquipName(String equipName){</li><li>        this.equipName = equipName;</li><li>    }</li><li>}</li></ol></pre>

                </div>
            </fieldset>
        </div>
    </div>
    <div class="layui-colla-item">
        <h2 class="layui-colla-title">Service</h2>
        <div class="layui-colla-content">
            <fieldset class="layui-elem-field">
                <legend>相关配置</legend>
                <div class="layui-field-box">
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">pointcut</span>
                        com..*.*Service.*(..)
                    </blockquote>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>常用注解</legend>
                <div class="layui-field-box">
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@Service</span>
                        负责注册一个bean到spring上下文中
                    </blockquote>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>示例代码</legend>
                <div class="layui-field-box">
                    <pre class="layui-code layui-box layui-code-view layui-code-notepad"
                         lay-title="JavaScript"
                         lay-skin="notepad"><h3
                            class="layui-code-h3">Service（equipAccountService）<a
                            href="http://www.layui.com/doc/modules/code.html"
                            target="_blank">EquipAccountService.java</a></h3><ol
                            class="layui-code-ol"><li>@Service("equipAccountService")</li><li>public class EquipAccountService extends DbLogService {</li><li></li><li>	/**</li><li>	 * 保存台帐信息</li><li>	 * </li><li>	 * @param equipAccountPO 台帐PO</li><li>	 *</li><li>	 * @throws Exception</li><li>	 */</li><li>	public void saveEquipFormPO(EquipAccountPO equipAccountPO) throws Exception {</li><li>		saveEntity(equipAccountPO);</li><li>	}</li><li>}</li></ol></pre>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="layui-colla-item">
        <h2 class="layui-colla-title">Controller</h2>
        <div class="layui-colla-content">
            <fieldset class="layui-elem-field">
                <legend>相关配置</legend>
                <div class="layui-field-box">
                    <blockquote class="layui-elem-quote">
                        <span class="layui-badge">pointcut</span>
                        * com.richfit.*.action.*Action.*(..)
                    </blockquote>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>常用注解</legend>
                <div class="layui-field-box">
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@Controller</span>
                        负责注册一个bean到spring上下文中
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@Autowired</span>
                        自动注入
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@RequestMapping</span>
                        为控制器指定可以处理哪些URL 请求
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@ResponseBody</span>
                        用于将Controller的方法返回的对象，通过适当的HttpMessageConverter转换为指定格式后，写入到Response对象的body数据区
                    </blockquote>
                    <blockquote class="layui-elem-quote"><span class="layui-badge">@LogInfo</span>
                        用于日志的记录，参数分别为module：操作名称 opDesc：操作描述
                    </blockquote>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>示例代码</legend>
                <div class="layui-field-box">
            <pre class="layui-code layui-box layui-code-view layui-code-notepad" lay-title="action"
                 lay-skin="notepad"><h3
                    class="layui-code-h3">Controller（equipAccountAction.do?method=queryAuditJobInfo）<a
                    href="http://www.layui.com/doc/modules/code.html"
                    target="_blank">EquipAccountAction.java</a></h3><ol class="layui-code-ol"><li>@Controller</li><li>@RequestMapping("/equipAccountAction.do")</li><li>public class EquipAccountAction {</li><li></li><li>    @Autowired</li><li>    private EquipAccountService equipAccountService;</li><li></li><li>    @LogInfo(module = "保存", opDesc = "保存设备台账信息")</li><li>    @RequestMapping(params = "method=saveEquipAccount")</li><li>    @ResponseBody</li><li>    public String saveEquipAccount(HttpServletRequest request,HttpServletResponse response) {</li><li>      //相关业务代码</li><li>    }</li><li>}</li></ol></pre>

                </div>
            </fieldset>
        </div>
    </div>
</div>
<div style="display: none">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>客户端结构</legend>
    </fieldset>

    <fieldset class="layui-elem-field">
        <legend>Entity</legend>
        <div class="layui-field-box">
        <pre class="layui-code layui-box layui-code-view layui-code-notepad" lay-title="JavaScript"
             lay-skin="notepad"><h3
                class="layui-code-h3">Entity（EQUIP_ACCOUNT）<a href="http://www.layui.com/doc/modules/code.html"
                                                              target="_blank">EquipAccountPO.java</a></h3><ol
                class="layui-code-ol"><li>@Entity</li><li>@Table(name = "EQUIP_ACCOUNT")</li><li>public class EquipAccountPO implements Serializable {</li><li></li><li>    private String equipId;//设备主键</li><li>    private String equipName;//设备名称</li><li></li><li>    /**</li><li>     * 获取 设备主键</li><li>     */</li><li>    @Id</li><li>    @GeneratedValue(generator = "idGenerator")</li><li>    @GenericGenerator(name = "idGenerator", strategy = "uuid")</li><li>    @Column(name = "EQUIP_ID")</li><li>    public String getEquipId(){</li><li>        return equipId;</li><li>    }</li><li></li><li>    /**</li><li>     * 设置 设备主键</li><li>     */</li><li>    public void setEquipId(String equipId){</li><li>        this.equipId = equipId;</li><li>    }</li><li></li><li>    /**</li><li>     * 获取 设备名称</li><li>     */</li><li>    @Column(name = "EQUIP_NAME")</li><li>    public String getEquipName(){</li><li>        return equipName;</li><li>    }</li><li></li><li>    /**</li><li>     * 设置 设备名称</li><li>     */</li><li>    public void setEquipName(String equipName){</li><li>        this.equipName = equipName;</li><li>    }</li><li>}</li></ol></pre>

            <blockquote class="layui-elem-quote">
                com.richfit.*.model
            </blockquote>
        </div>
    </fieldset>
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>Entity</legend>
    </fieldset>

    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>Service（示例）</legend>
    </fieldset>

    <pre class="layui-code layui-box layui-code-view layui-code-notepad" lay-title="JavaScript" lay-skin="notepad"><h3
            class="layui-code-h3">Service（equipAccountService）<a href="http://www.layui.com/doc/modules/code.html"
                                                                 target="_blank">EquipAccountService.java</a></h3><ol
            class="layui-code-ol"><li>@Service("equipAccountService")</li><li>public class EquipAccountService extends DbLogService {</li><li></li><li>	/**</li><li>	 * 保存台帐信息</li><li>	 * </li><li>	 * @param equipAccountPO 台帐PO</li><li>	 *</li><li>	 * @throws Exception</li><li>	 */</li><li>	public void saveEquipFormPO(EquipAccountPO equipAccountPO) throws Exception {</li><li>		saveEntity(equipAccountPO);</li><li>	}</li><li>}</li></ol></pre>


    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>Controller（示例）</legend>
    </fieldset>
    <pre class="layui-code layui-box layui-code-view layui-code-notepad" lay-title="action" lay-skin="notepad"><h3
            class="layui-code-h3">Controller（equipAccountAction.do?method=queryAuditJobInfo）<a
            href="http://www.layui.com/doc/modules/code.html"
            target="_blank">EquipAccountAction.java</a></h3><ol class="layui-code-ol"><li>@Controller</li><li>@RequestMapping("/equipAccountAction.do")</li><li>public class EquipAccountAction {</li><li></li><li>    @Autowired</li><li>    private EquipAccountService equipAccountService;</li><li></li><li>    @LogInfo(module = "保存", opDesc = "保存设备台账信息")</li><li>    @RequestMapping(params = "method=saveEquipAccount")</li><li>    @ResponseBody</li><li>    public String saveEquipAccount(HttpServletRequest request,HttpServletResponse response) {</li><li></li><li>    }</li><li>}</li></ol></pre>


    <pre class="layui-code layui-box layui-code-view layui-code-notepad" lay-title="JavaScript" lay-skin="notepad"><h3
            class="layui-code-h3">JavaScript<a href="http://www.layui.com/doc/modules/code.html"
                                               target="_blank">layui.code</a></h3><ol class="layui-code-ol"></ol></pre>
</div>
<script src="layui.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>
    layui.use(['code', 'element', 'layer'], function () {

        //layui.code(); //实际使用时，执行该方法即可。而此处注释是因为修饰器在别的js中已经执行过了
    });
</script>

</body>
</html>